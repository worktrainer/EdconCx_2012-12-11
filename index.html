<!DOCTYPE html>   
<html>   
<head>   
    <title>Edcon Staff Shopping Experience Survey</title>   
    <meta charset="utf-8">    
    <meta name="viewport" content="width=device-width, initial-scale=1">   
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    
  
    <link rel="stylesheet" href="wt_common/jquery-mobile/jquery.mobile-1.2.0.min.css" />
	<link rel="stylesheet" href="http://jquerymobile.com/demos/1.2.0/docs/_assets/css/jqm-docs.css"/>
	<script src="wt_common/jquery/jquery-1.8.2.min.js"></script>
	<script src="wt_common/jquery-mobile/jquery.mobile-1.2.0.min.js"></script>  
	<script>
	$.support.cors = true;
	$(document).bind("mobileinit", function(){
  		$.mobile.allowCrossDomainPages = true;
	});
	
	function setTimeUrl(){
		var date    = new Date();
		var unixtimeMS = date.getTime();
		var unixtime = parseInt(unixtimeMS / 1000);
		document.surveyform.timeurl.value=unixtime;
	}

	$(document).bind('pagebeforechange', function(e, data) {
	    var to = data.toPage,
	        from = data.options.fromPage;

	    if (typeof to === 'string') {
	        var u = $.mobile.path.parseUrl(to);
	        to = u.hash || '#' + u.pathname.substring(1);
	        if (from) from = '#' + from.attr('id');

	        if ((from === '#page1') && (checkRequired('storename')==false)) {
	            //alert('Cannot change to page 2 from page 1');
	            e.preventDefault();

	            // remove active class on button
	            // otherwise button would remain highlighted
	            $.mobile.activePage
	                .find('.ui-btn-active')
	                .removeClass('ui-btn-active');
	        }            
	    }
	});
		
	function checkRequired(fieldname){
		var fld_id=fieldname+'_id';
		var label_req=fieldname+'_req';
		var elem = document.getElementById(fld_id);
		if (elem.value.length == 0){
			//alert('Cannot go forward until you enter some store name');
			$('#'+label_req).show();
			return false;

		} else {
			//alert('Doing true');
			$('#'+label_req).hide();
			return true;
		}
	}
	</script>	
</head>   
		
<body>
<form name="surveyform" onSubmit="setTimeUrl()" action="http://worktrainer.co.za/cx_mobisave.php" method="post" data-ajax="false">
<div data-role="page" id="index">
	<header data-role="header">
		<div><center><h2>Edcon CX Survey</h2></center></div>
	</header>
	
	<div data-role="content">
		<p>This is a staff shopping experience questionnaire and we value your input in our ongoing quest to deliver the BEST shopping experience for our customers.</p>
		<p><a href="#page1" data-role="button" data-theme="b" data-inline="true">Start</a></p>
	</div>
	
	<footer data-role="footer">
		<h2>&copy; Edcon</h2>
	</footer>
</div>

<div data-role="page" id="page1" data-add-back-btn="true" data-theme="b">
	<header data-role="header" >
		<h1>Page 1 of 6</h1>
	</header>
	
	<div data-role="content">
		<label for="storename_id">Which store did you shop at?</label>
		<div id="storename_req" style="display:none; color:#ff0000;">You must enter a store name</div>
		<textarea name="storename" id="storename_id" data-mini="true" /></textarea>
		<hr>
		<label for="q2_storecode">What was the store code (if you know it)?</label>
		<input type="text" name="storecode" id="q2_storecode" data-mini="true" />
	</div>
	
	<footer data-role="footer">
		<a href="#page2" data-role="button" data-theme="b" data-inline="true" >Next</a>
	</footer>
</div>
		
<div data-role="page" id="page2" data-add-back-btn="true" data-theme="b">
	<header data-role="header" >
		<h1>Page 2 of 6</h1>
	</header>
	
	<div data-role="content">
		<div data-role="fieldcontain"  data-theme="b">
    		<fieldset data-role="controlgroup" data-mini="true">
	   		<legend>Which day of the week was this on?</legend>
	   		<input type="radio" name="dayofweek" value="1" id="q3_dayofweek_1"  data-mini="true" checked="checked"/>
	   			<label for="q3_dayofweek_1">Monday</label>
			<input type="radio" name="dayofweek" value="2" id="q3_dayofweek_2"  data-mini="true"/>
	   			<label for="q3_dayofweek_2">Tuesday</label>
			<input type="radio" name="dayofweek" value="3" id="q3_dayofweek_3"  data-mini="true"/>
	   			<label for="q3_dayofweek_3">Wednesday</label>
			<input type="radio" name="dayofweek" value="4" id="q3_dayofweek_4"  data-mini="true"/>
	   			<label for="q3_dayofweek_4">Thursday</label>
			<input type="radio" name="dayofweek" value="5" id="q3_dayofweek_5"  data-mini="true"/>
	   			<label for="q3_dayofweek_5">Friday</label>
			<input type="radio" name="dayofweek" value="6" id="q3_dayofweek_6"  data-mini="true"/>
	   			<label for="q3_dayofweek_6">Saturday</label>
			<input type="radio" name="dayofweek" value="7" id="q3_dayofweek_7"  data-mini="true"/>
	   			<label for="q3_dayofweek_7">Sunday</label>
			</fieldset>
		</div>
	</div>
				
	<footer data-role="footer">
		<a href="#page1" data-role="button" data-theme="b" data-inline="true">Back</a>
		<a href="#page3" data-role="button" data-theme="b" data-inline="true">Next</a>
	</footer>
</div>
		
<div data-role="page" id="page3" data-add-back-btn="true" data-theme="b">
	<header data-role="header" >
		<h1>Page 3 of 6</h1>
	</header>
	
	<div data-role="content">
		<div data-role="fieldcontain">
			<fieldset data-role="controlgroup" data-mini="true" data-theme="c">
				<legend>What time of the day was this?</legend>
	   			<input type="radio" name="timeofday" value="morning" id="q4_timeofday_1"  data-mini="true" checked="checked"/>
	   				<label for="q4_timeofday_1">Morning (9am - 11:30am)</label>
				<input type="radio" name="timeofday" value="lunch" id="q4_timeofday_2"  data-mini="true"/>
					<label for="q4_timeofday_2">Lunch Hour (11:30am - 2pm)</label>
	   			<input type="radio" name="timeofday" value="afternoon" id="q4_timeofday_3"  data-mini="true"/>
	   				<label for="q4_timeofday_3">Afternoon (2pm - 5pm)</label>
	   			<input type="radio" name="timeofday" value="evening" id="q4_timeofday_4"  data-mini="true"/>
	   				<label for="q4_timeofday_4">Evening (After 5pm)</label>
			</fieldset>
		</div>
	</div>
				
	<footer data-role="footer">
		<a href="#page2" data-role="button" data-theme="b" data-inline="true">Back</a>
		<a href="#page4" data-role="button" data-theme="b" data-inline="true">Next</a>
	</footer>
</div>

<div data-role="page" id="page4" data-add-back-btn="true" data-theme="b">
	<header data-role="header" >
		<h1>Page 4 of 6</h1>
	</header>
	
	<div data-role="content">
		<div data-role="fieldcontain"  data-theme="c">
    		<fieldset data-role="controlgroup" data-mini="true" data-theme="c">
		   		<legend>What was wrong with your shopping experience?</legend>
			   	<label><input type="checkbox" name="whatwrong_1" value="Out of stock"/> Out of stock </label>
			   	<label><input type="checkbox" name="whatwrong_2" value="Did not have the size that I wanted"/> Did not have the size that I wanted </label>
			   	<label><input type="checkbox" name="whatwrong_3" value="Long queues"/> Long queues </label>
			   	<label><input type="checkbox" name="whatwrong_4" value="Staff did not know if stock was available"/> Staff did not know if stock was available </label>
			   	<label><input type="checkbox" name="whatwrong_5" value="No staff available to assist me"/> No staff available to assist me </label>
			   	<label><input type="checkbox" name="whatwrong_6" value="Untidy fitting Rooms"/> Untidy fitting Rooms </label>
		   	</fieldset>
		</div>
		<hr>
		<label for="q6_foundit">Did you find everything you were looking for?</label>
		<select name="foundit" id="q6_foundit" data-role="slider" data-mini="true">
			<option value="1" selected="selected">Yes</option>
			<option value="0">No</option>
		</select>
	</div>
	
	<footer data-role="footer">
		<a href="#page3" data-role="button" data-theme="b" data-inline="true">Back</a>
		<a href="#page5" data-role="button" data-theme="b" data-inline="true">Next</a>
	</footer>
</div>

<div data-role="page" id="page5" data-add-back-btn="true" data-theme="b">
	<header data-role="header" >
		<h1>Page 5 of 6</h1>
	</header>
	
	<div data-role="content" data-theme="c">
		<label for="q7_willing">How much were you willing to spend (in Rands)?</label>
		<input type="range" name="willingtospend" id="q7_willing" value="0" min="0" max="2000" data-highlight="true" data-mini="true">
		<hr>
		<label for="q8_spent">How much did you ultimately spend (in Rands)?</label>
		<input type="range" name="spent" id="q8_spent" value="0" min="0" max="2000" data-highlight="true" data-mini="true">
	</div>
	
	<footer data-role="footer">
		<a href="#page4" data-role="button" data-theme="b" data-inline="true">Back</a>
		<a href="#page6" data-role="button" data-theme="b" data-inline="true">Next</a>
	</footer>
</div>
	
<div data-role="page" id="page6" data-add-back-btn="true" data-theme="b">
	<header data-role="header" >
		<h1>Page 6 of 6</h1>
	</header>
	
	<div data-role="content">
		<label for="q9_wherespent">Where did you end up spending your money?</label>
		<textarea name="wherespent" id="q9_wherespent" data-mini="true" /></textarea>
		<hr>
		<label for="q10_rating">On a scale of 1 to 5, please rate your shopping experience. (1 being very poor and 5 being excellent)</label>
		<input type="range" name="rating" id="q10_rating" value="3" min="1" max="5" step="1" data-highlight="true" data-mini="true" data-theme="c">
		<hr>
		<input type="submit" name="form_submit" value="Finish">
		<input type="hidden" name="timeurl" value="">
	</div>
		
	
	<footer data-role="footer">
		<a href="#page5" data-role="button" data-theme="b" data-inline="true">Back</a>
	</footer>
</div>		
</form>
</body>  
</html>